
@{
    ViewData["Title"] = "Game dashboard";
}


<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        padding: 20px;
    }

    .dashboard-container {
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        padding: 20px;
    }

    .dashboard-title {
        font-size: 24px;
        margin-bottom: 20px;
    }

    .game-list {
        list-style-type: none;
        padding: 0;
    }

    .game-item {
        margin-bottom: 10px;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        background-color: #f9f9f9;
    }
</style>

<div class="dashboard-container">
    <h1 class="dashboard-title">Dashboard</h1>
    <ul class="game-list">
        <li class="game-item">Game 1</li>
        <li class="game-item">Game 2</li>
        <li class="game-item">Game 3</li>
        <!-- Add more placeholder games as needed -->
    </ul>
    <div class="balance" id="balanceDisplay"></div>

</div>


<script>
    // Retrieve user email from session cookie
    var userEmail = getCookie('user_email');
    var userPassword = getCookie('user_password');

    // Make a request to get user information including balance
    fetch('http://localhost:9001/get/user?email=' + userEmail + '&password=' + userPassword)
        .then(response => {
            if (response.ok) {
                return response.json();
            } else {
                throw new Error('Failed to fetch user information.');
            }
        })
        .then(user => {
            displayBalance(user.balance);
        })
        .catch(error => {
            console.error('Error:', error.message);
        });

    function displayBalance(balance) {
        // Display the user's balance on the dashboard
        document.getElementById('balanceDisplay').innerText = 'Balance: $' + balance.toFixed(2);
    }

    // Function to retrieve a cookie value by name
    function getCookie(name) {
        var match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
        if (match) return match[2];
    }
</script>